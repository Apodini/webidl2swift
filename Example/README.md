# Example

This is an example repository showing how to integrate Swift code generated by `webidl2swift`.

## Structure

- HelloWorld: Contains the actual Swift package.
- src: Contains the JavaScript glue code that loads the WebAssembly module required by JavaScriptKit.
- WebAPI: Will contain the generated WebAPI Swift package.
- WebIDL-files: Contains the `.idl` files used for code generation.

## Requirements

Building the final website requires a [SwiftWasm](https://github.com/swiftwasm/swift) toolchain.
To manage multiple swift installations on a system, we recommend [swiftenv](https://swiftenv.fuller.li/en/latest/).
For a list of SwiftWasm releases, see [SwiftWasm releases](https://github.com/swiftwasm/swift/releases).
For this example, we already specified a SwiftWasm version in the `.swift-version` file.
swiftenv automatically selects the specified version when entering the directory.

## Usage

1. Generate the latest `dom.webidl` by running `npm install; npm run generate-dom`
2. Build `webidl2swift` or run it using `swift run`.
3. Generate the WebAPI module by running `webidl2swift -i WebIDL-files -o WebAPI`.
4. Build the website using the Makefile by running `make && make build`.
5. Start a local webserver, e.g. by running `python3 -m http.server`.

